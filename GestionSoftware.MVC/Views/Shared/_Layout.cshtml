<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Sistema de Gestión</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    @await RenderSectionAsync("Styles", required: false)
</head>
<body>
    <nav style="background-color: #4287f5; padding: 15px 0; margin-bottom: 20px;">
        <div class="container">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <a href="@Url.Action("Index", "Home")" style="color: black; text-decoration: none; font-size: 1.5rem; font-weight: bold;">
                    Sistema de Gestión
                </a>
                
                <div style="display: flex; align-items: center; gap: 15px;">
                    <a href="@Url.Action("Index", "Proyectos")" style="color: black; text-decoration: none; font-weight: bold;">Proyectos</a>
                    <a href="@Url.Action("Index", "Tareas")" style="color: black; text-decoration: none; font-weight: bold;">Tareas</a>
                    <a href="@Url.Action("Reporte", "Tareas")" style="color: black; text-decoration: none; font-weight: bold;">Reportes</a>
                    
                    @if (User.Identity.IsAuthenticated)
                    {
                        <form asp-controller="Account" asp-action="Logout" method="post" style="display: inline;">
                            <button type="submit" style="background: white; border: none; padding: 8px 15px; border-radius: 4px; font-weight: bold; cursor: pointer;">
                                Salir
                            </button>
                        </form>
                    }
                    else
                    {
                        <a href="@Url.Action("Login", "Account")" style="background: white; padding: 8px 15px; border-radius: 4px; text-decoration: none; font-weight: bold;">
                            Iniciar Sesión
                        </a>
                    }
                </div>
            </div>
        </div>
    </nav>

    <div class="container" style="margin-bottom: 40px;">
        @RenderBody()
    </div>

    <footer style="background-color: #f8f9fa; padding: 20px 0; border-top: 1px solid #ddd; text-align: center; color: #666;">
        <p>&copy; @DateTime.Now.Year - Sistema de Gestión de Tareas</p>
    </footer>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
